import{j as y}from"./jsx-runtime-DzgN-JE8.js";import{r as s}from"./index-CO9pbFv1.js";import{_ as E}from"./extends-CCbyfPlC.js";import{$ as W}from"./index-BEk9yI-S.js";import{b as le,a as V,c as de,f as M,e as B}from"./index-Dwm3ODnT.js";import{$ as fe,a as ue}from"./index-DtwMkvya.js";import{$ as me}from"./index-iWjfmL1M.js";import{$ as $e}from"./index-CjLZEfCi.js";import{c as pe}from"./clsx-B-dksMZM.js";const J=["PageUp","PageDown"],Q=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},A="Slider",[H,Se,he]=fe(A),[ee,Ze]=le(A,[he]),[be,z]=ee(A),ge=s.forwardRef((e,t)=>{const{name:a,min:i=0,max:c=100,step:o=1,orientation:l="horizontal",disabled:r=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[i],value:$,onValueChange:n=()=>{},onValueCommit:d=()=>{},inverted:S=!1,...g}=e,[h,b]=s.useState(null),w=V(t,p=>b(p)),D=s.useRef(new Set),u=s.useRef(0),_=l==="horizontal",K=h?!!h.closest("form"):!0,j=_?ve:xe,[v=[],re]=de({prop:$,defaultProp:m,onChange:p=>{var x;(x=[...D.current][u.current])===null||x===void 0||x.focus(),n(p)}}),O=s.useRef(v);function ie(p){const x=Me(v,p);T(p,x)}function se(p){T(p,u.current)}function ce(){const p=O.current[u.current];v[u.current]!==p&&d(v)}function T(p,x,{commit:k}={commit:!1}){const F=Ie(o),N=Ae(Math.round((p-i)/o)*o+i,F),I=W(N,[i,c]);re((P=[])=>{const R=Pe(P,I,x);if(Te(R,f*o)){u.current=R.indexOf(I);const U=String(R)!==String(P);return U&&k&&d(R),U?R:P}else return P})}return s.createElement(be,{scope:e.__scopeSlider,disabled:r,min:i,max:c,valueIndexToChangeRef:u,thumbs:D.current,values:v,orientation:l},s.createElement(H.Provider,{scope:e.__scopeSlider},s.createElement(H.Slot,{scope:e.__scopeSlider},s.createElement(j,E({"aria-disabled":r,"data-disabled":r?"":void 0},g,{ref:w,onPointerDown:M(g.onPointerDown,()=>{r||(O.current=v)}),min:i,max:c,inverted:S,onSlideStart:r?void 0:ie,onSlideMove:r?void 0:se,onSlideEnd:r?void 0:ce,onHomeKeyDown:()=>!r&&T(i,0,{commit:!0}),onEndKeyDown:()=>!r&&T(c,v.length-1,{commit:!0}),onStepKeyDown:({event:p,direction:x})=>{if(!r){const N=J.includes(p.key)||p.shiftKey&&Q.includes(p.key)?10:1,I=u.current,P=v[I],R=o*N*x;T(P+R,I,{commit:!0})}}})))),K&&v.map((p,x)=>s.createElement(De,{key:x,name:a?a+(v.length>1?"[]":""):void 0,value:p})))}),[te,ne]=ee(A,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ve=s.forwardRef((e,t)=>{const{min:a,max:i,dir:c,inverted:o,onSlideStart:l,onSlideMove:r,onSlideEnd:f,onStepKeyDown:m,...$}=e,[n,d]=s.useState(null),S=V(t,u=>d(u)),g=s.useRef(),h=ue(c),b=h==="ltr",w=b&&!o||!b&&o;function D(u){const _=g.current||n.getBoundingClientRect(),K=[0,_.width],v=L(K,w?[a,i]:[i,a]);return g.current=_,v(u-_.left)}return s.createElement(te,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},s.createElement(oe,E({dir:h,"data-orientation":"horizontal"},$,{ref:S,style:{...$.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:u=>{const _=D(u.clientX);l==null||l(_)},onSlideMove:u=>{const _=D(u.clientX);r==null||r(_)},onSlideEnd:()=>{g.current=void 0,f==null||f()},onStepKeyDown:u=>{const K=Z[w?"from-left":"from-right"].includes(u.key);m==null||m({event:u,direction:K?-1:1})}})))}),xe=s.forwardRef((e,t)=>{const{min:a,max:i,inverted:c,onSlideStart:o,onSlideMove:l,onSlideEnd:r,onStepKeyDown:f,...m}=e,$=s.useRef(null),n=V(t,$),d=s.useRef(),S=!c;function g(h){const b=d.current||$.current.getBoundingClientRect(),w=[0,b.height],u=L(w,S?[i,a]:[a,i]);return d.current=b,u(h-b.top)}return s.createElement(te,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1},s.createElement(oe,E({"data-orientation":"vertical"},m,{ref:n,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const b=g(h.clientY);o==null||o(b)},onSlideMove:h=>{const b=g(h.clientY);l==null||l(b)},onSlideEnd:()=>{d.current=void 0,r==null||r()},onStepKeyDown:h=>{const w=Z[S?"from-bottom":"from-top"].includes(h.key);f==null||f({event:h,direction:w?-1:1})}})))}),oe=s.forwardRef((e,t)=>{const{__scopeSlider:a,onSlideStart:i,onSlideMove:c,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:r,onStepKeyDown:f,...m}=e,$=z(A,a);return s.createElement(B.span,E({},m,{ref:t,onKeyDown:M(e.onKeyDown,n=>{n.key==="Home"?(l(n),n.preventDefault()):n.key==="End"?(r(n),n.preventDefault()):J.concat(Q).includes(n.key)&&(f(n),n.preventDefault())}),onPointerDown:M(e.onPointerDown,n=>{const d=n.target;d.setPointerCapture(n.pointerId),n.preventDefault(),$.thumbs.has(d)?d.focus():i(n)}),onPointerMove:M(e.onPointerMove,n=>{n.target.hasPointerCapture(n.pointerId)&&c(n)}),onPointerUp:M(e.onPointerUp,n=>{const d=n.target;d.hasPointerCapture(n.pointerId)&&(d.releasePointerCapture(n.pointerId),o(n))})}))}),we="SliderTrack",_e=s.forwardRef((e,t)=>{const{__scopeSlider:a,...i}=e,c=z(we,a);return s.createElement(B.span,E({"data-disabled":c.disabled?"":void 0,"data-orientation":c.orientation},i,{ref:t}))}),Y="SliderRange",Ee=s.forwardRef((e,t)=>{const{__scopeSlider:a,...i}=e,c=z(Y,a),o=ne(Y,a),l=s.useRef(null),r=V(t,l),f=c.values.length,m=c.values.map(d=>ae(d,c.min,c.max)),$=f>1?Math.min(...m):0,n=100-Math.max(...m);return s.createElement(B.span,E({"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0},i,{ref:r,style:{...e.style,[o.startEdge]:$+"%",[o.endEdge]:n+"%"}}))}),q="SliderThumb",ye=s.forwardRef((e,t)=>{const a=Se(e.__scopeSlider),[i,c]=s.useState(null),o=V(t,r=>c(r)),l=s.useMemo(()=>i?a().findIndex(r=>r.ref.current===i):-1,[a,i]);return s.createElement(Re,E({},e,{ref:o,index:l}))}),Re=s.forwardRef((e,t)=>{const{__scopeSlider:a,index:i,...c}=e,o=z(q,a),l=ne(q,a),[r,f]=s.useState(null),m=V(t,b=>f(b)),$=$e(r),n=o.values[i],d=n===void 0?0:ae(n,o.min,o.max),S=Ce(i,o.values.length),g=$==null?void 0:$[l.size],h=g?Ve(g,d,l.direction):0;return s.useEffect(()=>{if(r)return o.thumbs.add(r),()=>{o.thumbs.delete(r)}},[r,o.thumbs]),s.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${d}% + ${h}px)`}},s.createElement(H.ItemSlot,{scope:e.__scopeSlider},s.createElement(B.span,E({role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":n,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},c,{ref:m,style:n===void 0?{display:"none"}:e.style,onFocus:M(e.onFocus,()=>{o.valueIndexToChangeRef.current=i})}))))}),De=e=>{const{value:t,...a}=e,i=s.useRef(null),c=me(t);return s.useEffect(()=>{const o=i.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(c!==t&&f){const m=new Event("input",{bubbles:!0});f.call(o,t),o.dispatchEvent(m)}},[c,t]),s.createElement("input",E({style:{display:"none"}},a,{ref:i,defaultValue:t}))};function Pe(e=[],t,a){const i=[...e];return i[a]=t,i.sort((c,o)=>c-o)}function ae(e,t,a){const o=100/(a-t)*(e-t);return W(o,[0,100])}function Ce(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Me(e,t){if(e.length===1)return 0;const a=e.map(c=>Math.abs(c-t)),i=Math.min(...a);return a.indexOf(i)}function Ve(e,t,a){const i=e/2,o=L([0,50],[0,i]);return(i-o(t)*a)*a}function Ke(e){return e.slice(0,-1).map((t,a)=>e[a+1]-t)}function Te(e,t){if(t>0){const a=Ke(e);return Math.min(...a)>=t}return!0}function L(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(a-e[0])}}function Ie(e){return(String(e).split(".")[1]||"").length}function Ae(e,t){const a=Math.pow(10,t);return Math.round(e*a)/a}const ke=ge,Be=_e,ze=Ee,X=ye,Ne="_container_6zicv_1",He="_SliderRoot_6zicv_17",Le="_SliderTrack_6zicv_29",je="_SliderRange_6zicv_37",Oe="_SliderThumb_6zicv_44",C={container:Ne,SliderRoot:He,SliderTrack:Le,SliderRange:je,SliderThumb:Oe},G=s.forwardRef(({ariaLabelMax:e,ariaLabelMin:t,className:a,onValueChange:i,value:c,...o},l)=>{const[r,f]=s.useState(c),m=n=>{f(n)},$=(n,d)=>{const S=r==null?void 0:r[n?0:1];n===0?S&&f([d,S]):S&&f([S,d])};return y.jsxs("div",{className:C.container,children:[y.jsx("input",{onChange:n=>$(0,Number(n.target.value)),value:r==null?void 0:r[0]}),y.jsxs(ke,{className:pe(C.SliderRoot,a),onValueChange:n=>m(n),...o,ref:l,value:r,children:[y.jsx(Be,{className:C.SliderTrack,children:y.jsx(ze,{className:C.SliderRange})}),y.jsx(X,{"aria-label":t,className:C.SliderThumb}),y.jsx(X,{"aria-label":e,className:C.SliderThumb})]}),y.jsx("input",{onChange:n=>$(1,Number(n.target.value)),value:r==null?void 0:r[1]})]})});try{G.displayName="Slider",G.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},ariaLabelMax:{defaultValue:null,description:"",name:"ariaLabelMax",required:!1,type:{name:"string"}},ariaLabelMin:{defaultValue:null,description:"",name:"ariaLabelMin",required:!1,type:{name:"string"}}}}}catch{}export{G as S};
